# AirChat 🚀

一个专为局域网/实验室环境设计的轻量级聊天与文件共享系统。支持离线运行，具备现代化的毛玻璃视觉效果。

## ✨ 功能特性

- **身份验证**: 注册与登录功能。用户名支持字母/数字/下划线（12位以内）。
- **实时聊天**: 基于 WebSocket 的极速响应。
- **视觉增强**: 
    - **毛玻璃效果 (Glassmorphism)**: 现代化的 UI 设计。
    - **Markdown & LaTeX**: 支持丰富的文本格式和数学公式渲染。
- **管理后台**: 管理员专属功能，支持禁言/封号、IP或网段封禁、修改管理员凭证等强大能力。
- **离线部署**: 前后端可编译为单个 `.exe` 文件，在无网环境下通过局域网 IP 即可使用。
- **头像管理**: 支持自定义上传头像。

## 🚀 快速开始

### 开发环境运行

1. **后端**:
   ```bash
   cd backend
   go run .
   ```
2. **前端**:
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

### 编译为 .exe (单文件)

1. 进入前端目录并构建：`npm run build`
2. 进入后端目录并执行：`go build -o AirChat.exe`
3. 运行 `AirChat.exe` 即可。

## 🎮 指令使用

在聊天框中输入以下指令可以执行特定操作：

| 指令 | 描述 | 备注 |
| :--- | :--- | :--- |
| `/nick <名字>` | 修改当前会话的显示昵称 | 仅限 12 位以内 |
| `/admin <密码>` | 认证普通管理员身份 | 默认初始密码为 `admin123` |
| `/system <密码>` | 认证系统最高控制权限 | 默认初始密码为 `system123` |
| `/clear` | 清除当前本地聊天记录显示 | 仅清理前端显示，不影响服务端 |

## 🛡️ 管理面板使用指南

为了保证系统的安全性，管理面板采用了**指令提权 + 持久化鉴权**的设计方案。

### 如何进入管理面板？
1. 在聊天框输入 `/admin 你设置的密码`（初始为 `admin123`）。
2. 若密码正确，系统会提示“管理员认证成功”。
3. 侧边栏底部将自动出现 **「管理面板」** 按钮，点击即可进入。

### 功能说明：
- **用户管理**: 
    - `admin` (管理员): 实时查看全体用户，支持对普通 `user` 进行禁言、封禁以及**直接注销（硬删除）**账号操作。
    - `system` (系统级): 拥有最高权限，能够处理任意 `user` 与 `admin` 的解/禁/删除操作，并且拥有独占的**「设为 Admin（管理分配）」**权限，通过该项可自由升降其他角色的身份。
- **IP 封禁**: 
    - 支持**单 IP 封禁**: 如 `192.168.1.5`。
    - 支持**网段封禁 (CIDR)**: 如 `192.168.1.0/24`，可一次性封禁整个局域网段。
    - 支持**范围区间封禁**: 提供极简直观的面板交互，仅需输入起始和结束边界如 `192.168.1.1` - `192.168.1.100` 即可锁定一整块区间的访问。
- **系统设置**: 修改当前所处对应等级的通用提权密码。

## 🛠 技术栈

- **后端**: Go, Gin, GORM, SQLite, JWT, Gorilla WebSocket
- **前端**: Vue 3, Vite, Tailwind CSS, Lucide Vue, Markdown-it, KaTeX